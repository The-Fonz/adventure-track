<html>
<head>
    <meta charset=utf-8>
    <title>adventure-track</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- CDN stylesheets -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="http://vjs.zencdn.net/5.17.0/video-js.css" rel="stylesheet">
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css' rel='stylesheet' />
    <!-- Local stylesheets -->
    <link href="node_modules/vis/dist/vis.css" rel="stylesheet" type="text/css" />
    <link href='custom.css' rel="stylesheet" type="text/css" />
</head>
<body id="main">

<div>
    <div class="leftpane noselect">
        <div id="map-view"></div>
        <div id="timeline"></div>
    </div>
    <div class="rightpane">
        <div id="blog"></div>
    </div>
</div>

<div id="overlay"></div>

<template id="overlay-template">
    {{#if visible}}
        <div class="background" on-click="@this.close()"></div>
        <div class="overlay-modal">
            <div class="exit" on-click="@this.close()">
                <i class="fa fa-times-circle"></i>
            </div>
            <div class="content">
                {{#if vidsrc}}
                    <video autoplay controls src="{{vidsrc}}"></video>
                {{/if}}
                {{#if imgsrc}}
                    <img src="{{imgsrc}}" />
                {{/if}}
            </div>
        </div>
    {{/if}}
</template>

<template id="blog-template">
    <div>
        {{#messages}}
        <div class="message" on-click="@this.select(this.id)">
            <div class="time">
                {{this.timestamp.calendar(null,{sameElse: 'ddd MMM Do YYYY HH:mm'})}}
            </div>
            {{#if text}}
                <div class="text">{{this.text}}</div>
            {{/if}}
            {{#if image_versions}}
                <img class="imgthumb" src="{{image_versions.thumb}}"
                     on-click="show" />
            {{/if}}
            {{#if video_versions}}
                <img class="vidthumb" src="{{video_versions.thumb}}"
                     on-click="show" />
            {{/if}}
        </div>
        {{/messages}}
    </div>
</template>

<script src="bundle.js"></script>
</body>
</html>
